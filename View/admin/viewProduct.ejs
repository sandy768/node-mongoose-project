<%-include('../includes/header.ejs')%>
<link rel="stylesheet" href="/css/adminView.css">
<title>
    <%=title%>
</title>
</head>
<body>
    <%-include('../includes/navbar.ejs')%>
    <main>
        <%if(data.length>0){%>
        <h1 class="text-center text-warning-emphasis my-4">Admin Products</h1>
                <form action="/admin/searchProduct" method="POST" class="d-flex justify-content-center" role="search" autocomplete="off">
                    <input class="me-2 rounded" type="search" placeholder="Search" aria-label="Search" name="magnify">
                    <button class="btn btn-success" type="submit">Search</button>
                  </form>
                <div class="dropdown d-flex justify-content-end">
                    <button class="btn btn-secondary dropdown-toggle me-4" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        ---Sort By---
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="/admin/showProduct">Relevance</a></li>
                      <li><a class="dropdown-item" href="/admin/sorting/priceInc">Price --- Low to High</a></li>
                      <li><a class="dropdown-item" href="/admin/sorting/pricedec">Price --- High to Low</a></li>
                    </ul>
                  </div> 
        
        <div class="d-flex justify-content-center align-item-center my-5">
            <table cellpadding="20px">
                <tr class="bg-dark text-light">
                    <th>Serial No.</th>
                    <th>Product Name</th>
                    <th>Product Price</th>
                    <th>Product Color</th>
                    <th>Product Description</th>
                    <th>Product Image</th>
                    <th>Edit</th>
                    <th>Delete GET</th>
                    <!-- <th>Delete POST</th> -->
                </tr>
                <%for(let i=0;i<data.length;i++){%>
                    <tr class="text-danger-emphasis fw-medium">
                        <td class="text-center"><%=[i+1]%>.</td>
                        <td class="text-center"><%=data[i].product_name%></td>
                        <td class="text-center"><%=data[i].product_price%></td>
                        <td class="text-center"><%=data[i].product_color%></td>
                        <td class="text-center"><%=data[i].product_description%></td>
                        <td class="text-center"><img src="/<%=data[i].product_image[0]%>" alt="..." height="60px"> <img src="/<%=data[i].product_image[1]%>" alt="..." height="60px"></td>
                    </td>
                    <td><a href="/admin/editData/<%=data[i]._id%>" class="btn btn-success"><i class="fa-solid fa-pen-to-square"></i> Edit</a></td>
                        <td><a href="/admin/deleteProduct/<%=data[i]._id%>" class="btn btn-danger"><i class="fa-solid fa-trash"></i> Delete</a></td>
                        <!-- <td>
                            <form action="/admin/postDelete" method="POST">
                                <input type="hidden" name="id" value="<%=data[i]._id%>">
                                <div class="deletepost">
                                    <input type="submit" value="Delete" class="btn btn1 btn-danger"><i class="fa-solid fa-trash"></i>
                                </div>
                            </form>
                        </td> -->
                    </tr>
                <%}%>
            <%}else{%>
                <h2>Data not found</h2>
            <%}%>
        </div>
        </table>
    </main>
    <%-include('../includes/footer.ejs')%>